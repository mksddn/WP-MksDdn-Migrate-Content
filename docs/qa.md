## Вопросы по архитектуре и требованиям

### Базовые требования
1. Минимальные версии окружения: какая целевая версия WordPress (например, ≥6.0/6.3) и PHP (например, ≥7.4/8.0)?
   - Ответ: WordPress ≥ 6.2 (тестируем до 6.6.x), PHP ≥ 7.4 (рекомендовано ≥ 8.1; тестируем до 8.3). Эти значения попадут в шапку плагина и `readme.txt`.
2. Нужна ли совместимость с Multisite?
   - Ответ: Да, совместимость поддерживаем; специального поведения не вводим. Проверяем `is_multisite()` для путей/прав и не используем MU-специфичные API.
3. Требуются ли WP-CLI команды для экспорта/импорта?
   - Ответ: Да, опционально. Добавим команды `wp mksddn export` и `wp mksddn import` для пакетных операций на серверах без браузера.

### Функциональность импорта/экспорта
4. Текущий охват: только отдельные страницы или также посты, медиабиблиотека, таксономии, меню?
   - Ответ: Этап 1 — отдельные страницы (`page`) + мета + миниатюра + вложения по выбору. Этап 2 — произвольные типы записей/таксономии (по задаче).
5. Формат экспорта: JSON (предпочтительно) или ZIP (JSON + медиаданные)?
   - Ответ: Основной — JSON (UTF-8). Опция: ZIP (JSON + медиа) для переноса вместе с файлами.
6. Как обрабатываем медиаданные при импорте: копирование по URL, локальная загрузка, маппинг существующих?
   - Ответ: По умолчанию скачиваем в `uploads` и создаём вложения. Дубликаты пропускаем по URL/хешу/имени файла. Опция: маппинг к существующим медиа.
7. Правила маппинга авторов/слугов/ID при конфликтах?
   - Ответ: Автор — по `user_login`/email, иначе fallback на текущего пользователя. Посты — сопоставление по `post_type` + `post_name` (slug). ID из экспорта игнорируем. При конфликте slug: опции — обновить существующий (update) либо создать новый (добавляем суффикс `-mksddn-N`).

### Безопасность и ограничения
8. Максимальный размер файла импорта и допустимые MIME-типы?
   - Ответ: По умолчанию ≤ 10 MB (настраиваемо через фильтр). MIME: `application/json`, `application/zip`. Проверяем nonce, cap и реальный тип файла.
9. Требуются ли роли/кастомные capabilities сверх `manage_options`?
   - Ответ: Базово используем `manage_options`. Введём кастомную способность `mksddn_migrate` (по умолчанию маппим на `manage_options`) для гибкой делегации.
10. Нужны ли политики хранения временных файлов (сроки, директории, очистка)?
   - Ответ: Временные файлы — `wp-content/uploads/mksddn-migrate/tmp`. Автоочистка WP-Cron: файлы старше 24 часов. Ручная очистка кнопкой в админке.

### Производительность и UX
11. Предпочитаемый подход при больших объёмах: пакетная обработка, фоновая задача через WP-Cron, индикатор прогресса?
   - Ответ: Пакеты по 50 записей, тайм-бокс ~10 секунд на тик. AJAX/REST-инкременты с индикатором прогресса; опция «фон» через WP-Cron на хостингах без долговременных запросов.
12. Требуется ли отчёт/лог по итогам операции (CSV/HTML/экран)?
   - Ответ: Да. HTML-резюме на экране + скачиваемый JSON-лог; CSV-экспорт (опционально) для аудита.

### Публикация и поддержка
13. Какие языки локализации приоритетны кроме английского и русского?
   - Ответ: `en_US`, `ru_RU`.
14. Политика версионирования и периодичность релизов?
   - Ответ: SemVer. `1.0.0` — первый релиз. Патчи — по мере исправлений; минорные — не чаще 1/мес., при накоплении фич.
15. Какие метрики качества считать блокирующими при PCP (уровень строгости)?
   - Ответ: Любые ошибки PCP — блокер. Предупреждения — устраняем до релиза, если нет технических причин; WPCS/PHPCS — без ошибок/варнингов; отсутствие PHP Notices/Warnings при `WP_DEBUG`=true.


